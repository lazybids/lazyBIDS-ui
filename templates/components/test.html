<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastAPI demo</title>
    <script
  src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
  integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8="
  crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
    <script src="https://unpkg.com/htmx.org@1.6.1"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <script src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js"></script> -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.10.2/dist/full.min.css" rel="stylesheet" type="text/css" />
    <!-- <link href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.min.css" rel="stylesheet" type="text/css" /> -->
    <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body>
    <div x-data="table()" class="min-h-screen bg-gray-800 p-8">
        <div class="mb-4">
          <input x-model="search" type="text" placeholder="Search..." class="px-4 py-2 border rounded">
        </div>
      
        <div class="overflow-x-auto">
          <table class="min-w-full text-left">
            <thead>
              <tr>
                <template x-for="(column, index) in columns" :key="index">
                  <th class="px-4 py-2 border-b cursor-pointer" @click="sortByColumn(index)">
                    <div class="flex items-center">
                      <span x-text="column"></span>
                      <span x-show="sortColumn === index" class="ml-2">
                        <svg x-show="sortDirection === 'asc'" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>
                        <svg x-show="sortDirection === 'desc'" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                      </span>
                    </div>
                  </th>
                </template>
              </tr>
            </thead>
            <tbody>
              <template x-for="row in sortedAndFilteredRows()" :key="row.id">
                <tr>
                  <template x-for="(cell, index) in row.cells" :key="index">
                    <td class="px-4 py-2 border-b" x-text="cell"></td>
                  </template>
                </tr>
              </template>
            </tbody>
          </table>
        </div>
      

      </div>
      
      <script>
      function table() {
        return {
          search: '',
          sortColumn: null,
          sortDirection: 'asc',
          columns: ['Name', 'Email', 'Age'],
          rows: [
            { id: 1, cells: ['Alice', 'alice@example.com', 30] },
            { id: 2, cells: [<a class='m-4' href='http://creativecommons.org/publicdomain/zero/1.0/' target='_blank' rel='noopener noreferrer'><img                         src='https://img.shields.io/badge/License-CC0_1.0-lightgrey.svg' alt='License: CC0-1.0'></a>, 'bob@example.com', 24] },
            // More rows...
          ],
          filteredRows() {
            return this.rows.filter(row => 
              row.cells.some(cell => cell.toString().toLowerCase().includes(this.search.toLowerCase()))
            );
          },
          sortedAndFilteredRows() {
            const sortedRows = this.filteredRows().slice().sort((a, b) => {
              const aValue = a.cells[this.sortColumn];
              const bValue = b.cells[this.sortColumn];
              return (aValue > bValue) ? 1 * (this.sortDirection === 'asc' ? 1 : -1) : -1 * (this.sortDirection === 'asc' ? 1 : -1);
            });
            return sortedRows;
          },
          sortByColumn(index) {
            if (this.sortColumn === index) {
              this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
              this.sortColumn = index;
              this.sortDirection = 'asc';
            }
          },


        }
      }
      </script>
      

</body>

</html>


